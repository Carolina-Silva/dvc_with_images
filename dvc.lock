schema: '2.0'
stages:
  cut-slices:
    cmd: python src/utils/run_cut_slices.py
    deps:
    - path: data/raw/volume_lines.tif
      hash: md5
      md5: 3f3d85a9ee8f3dbfcbc59aa1a73f849d
      size: 6570290
    - path: src/utils/cut_slices.py
      hash: md5
      md5: dea7f800257bc9a8e2c7a869022808a9
      size: 1242
    - path: src/utils/run_cut_slices.py
      hash: md5
      md5: f0a3cdd8d2609fe995993e7c32880220
      size: 364
    params:
      params.yaml:
        slicer.input_dir: data/input
        slicer.raw_data: data/raw/volume_lines.tif
    outs:
    - path: data/input
      hash: md5
      md5: ac49cecbd8aacd64cb559f94fcb14e0a.dir
      size: 6579200
      nfiles: 100
  process-slices:
    cmd: python src/utils/run_process_images.py
    deps:
    - path: data/input
      hash: md5
      md5: ac49cecbd8aacd64cb559f94fcb14e0a.dir
      size: 6579200
      nfiles: 100
    - path: src/utils/process_image.py
      hash: md5
      md5: 4b6bb102a4aa29b22371c7cd610abce2
      size: 1085
    - path: src/utils/run_process_images.py
      hash: md5
      md5: d5333591758f8b0b41b9dca625f07065
      size: 345
    params:
      params.yaml:
        processor.input_dir: data/input
        processor.intermediate_dir: data/intermediate
    outs:
    - path: data/intermediate
      hash: md5
      md5: 84a9a2135d17a86ac1209f1b4febacf6.dir
      size: 6579200
      nfiles: 100
  count-objects:
    cmd: python src/utils/run_count_objects.py
    deps:
    - path: data/intermediate
      hash: md5
      md5: 84a9a2135d17a86ac1209f1b4febacf6.dir
      size: 6579200
      nfiles: 100
    - path: src/utils/count.py
      hash: md5
      md5: 0ef4070354a40e46981ac79ab15d289d
      size: 1024
    - path: src/utils/run_count_objects.py
      hash: md5
      md5: 1f56a2bb3f973d21a6e35186cddea283
      size: 315
    params:
      params.yaml:
        counter.intermediate_dir: data/intermediate
        counter.output_csv: data/output/results.csv
    outs:
    - path: data/output/results.csv
      hash: md5
      md5: 23bac03b3636cbae1fd4e71601d7b772
      size: 2502
